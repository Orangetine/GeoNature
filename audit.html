
<!DOCTYPE html>


<html lang="fr" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Priorités pour le référenciel &#8212; Documentation GeoNature 2.0</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=fd3f3429" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="_static/documentation_options.js?v=94f178cf"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="_static/translations.js?v=041d0952"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'audit';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="fr"/>
  <meta name="docsearch:version" content="2.0" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/LogoGeonature.jpg" class="logo__image only-light" alt="Documentation GeoNature 2.0 - Home"/>
    <img src="_static/LogoGeonature.jpg" class="logo__image only-dark pst-js-only" alt="Documentation GeoNature 2.0 - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/PnX-SI/GeoNature" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Recherche" aria-label="Recherche" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Recherche</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-manual.html">Manuel utilisateur</a></li>
<li class="toctree-l1"><a class="reference internal" href="admin-manual.html">Manuel administrateur</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Développement</a></li>

<li class="toctree-l1"><a class="reference internal" href="FAQ.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Auteurs</a></li>
<li class="toctree-l1"><a class="reference internal" href="CHANGELOG.html">CHANGELOG</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-references.html">API REFERENCES</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/PnX-SI/GeoNature" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Dépôt source"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/PnX-SI/GeoNature/blob/master/docs/audit.md?plain=1" target="_blank"
   class="btn btn-sm btn-source-file-button dropdown-item"
   title="Show source"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="btn__text-container">Show source</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Téléchargez cette page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/audit.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Télécharger le fichier source"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Imprimer au format PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Mode plein écran"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Recherche" aria-label="Recherche" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Priorités pour le référenciel</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contenu </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Priorités pour le référenciel</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#securite">Sécurité:</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#modularite">Modularité:</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#qualite-du-code">Qualité du code:</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#aspect-legal">Aspect légal:</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ergonomie">Ergonomie:</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#configuration">Configuration:</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#temps-de-chargement">Temps de chargement</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#documentation">Documentation</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bons-points">Bons points</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#questions">Questions</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="priorites-pour-le-referenciel">
<h1>Priorités pour le référenciel<a class="headerlink" href="#priorites-pour-le-referenciel" title="Lien vers cette rubrique">#</a></h1>
<p>HTTPS</p>
<p>HttpOnly cookies + Match cookie session avec adresse IP ou un certif ssl</p>
<p>Sanitize</p>
<p>Log 500 and send email</p>
<p>Verifier:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Est-ce que la connection au CAS se fait en HTTPS ?

Les id sont ils séquentiels ? Peut ont y accéder de sans avoir les droits ?
</pre></div>
</div>
<p>Backup</p>
<p>Installation et configuration de référence</p>
<p>Definition d’une procédure de connexion à UsersHub pour une mise en oeuvre sécurisée</p>
<p>Documentation des ports et permissions recommandés pour l’application</p>
<p>Ajout de linters (pylint, mypy, mccabe…)</p>
<p>Ajouts de tests unitaires et suite de test (tox + pytest)</p>
<ul class="simple">
<li><p>Déclaration à la CNIL;</p></li>
<li><p>Fichier de LICENCE</p></li>
<li><p>Dossier de licence des dépendances</p></li>
</ul>
</section>
<section id="securite">
<h1>Sécurité:<a class="headerlink" href="#securite" title="Lien vers cette rubrique">#</a></h1>
<p>HTTPS</p>
<p>HttpOnly cookies + Match cookie session avec adresse IP ou un certif ssl</p>
<p>Sanitize ticket in routes.py :</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>urlValidate = &quot;%s?ticket=%s&amp;service=%s&quot;%(configCas[&#39;URL_VALIDATION&#39;], params[&#39;ticket&#39;], base_url)

Au cas ou l&#39;autre service ne soit pas sécurisé
</pre></div>
</div>
<p>Log 500 and send email</p>
<p>Verifier:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Est-ce que la connection au CAS se fait en HTTPS ?

Les id sont ils séquentiels ? Peut ont y accéder de sans avoir les droits ?
</pre></div>
</div>
<p>remove_file, upload_file et rename_file doivent vérifier le chemin absolu avant de faire l’opération. Un 3eme paramètre doit contenir une liste noire en dur de chemin de dossiers interdits. On doit aussi vérifier que les fichiers du projets en lui même ne sont pas sur ce chemin.</p>
<p>Throttle</p>
<p>Backup</p>
<p>Utilisation de JWT pour l’authentification</p>
<p>API OAUTH pour UsersHub</p>
<p>Definition d’une procédure de connexion à UsersHub pour une mise en oeuvre sécurisée</p>
<p>Documentation des ports et permissions recommandés pour l’application</p>
</section>
<section id="modularite">
<h1>Modularité:<a class="headerlink" href="#modularite" title="Lien vers cette rubrique">#</a></h1>
<p>Définir les objectifs de la modularisation</p>
<p>Versionner l’API et le schéma de base de donnée</p>
<p>Fournir un processus, des conventions et outils de migration pour la base</p>
<p>Créer une API de backend d’authentification et d’identification.</p>
<p>Comment un module s’attache-t-il au projet ? A quoi peut il réagir ? Que peut il overrider (template, config, vues, urls, etc) ?</p>
<p>Comment creer son propre point d’entrée qui utilise l’outils de manière composée</p>
<p>Comment gérér la configuration par defaut et celle custo ?</p>
<p>Comment gérer les mises à jour ? Notamment les migrations de schéma.</p>
<p>D’après les objectifs de http://geonature.fr/documents/2017-04-Presentation-projet-1.0.pdf:</p>
<ul class="simple">
<li><p>1 modèle de données par protocole</p></li>
<li><p>1 schéma de base de données par protocole</p></li>
<li><p>1 synthèse automatique de l’ensemble des données Faune/flore/fonge issues des
différents protocoles</p></li>
<li><p>1 schéma de métadonnées permettant d’identifier le protocole, le programme, le jeu de
données et la source de chaque donnée</p></li>
<li><p>Des méthodes standards d’alimentation de la synthèse (API, triggers ou ETL)</p></li>
</ul>
<p>=&gt; Comment attacher le modèle à l’administration ? Aux formulaires ?
=&gt; Comment s’intégrer dans le processus d’installation. Intéragir avec les autres protocols ?
=&gt; Comment se déclarer pour faire partie de la synthèse ?</p>
<ul class="simple">
<li><p>Des bonnes pratiques et guides techniques pour le développement de nouveaux
modules et protocoles</p></li>
</ul>
<p>=&gt; Doc ?</p>
<p>Utilisation d’uuid à la place de d’id incrémentaux. Particulièrement pour : les données utilisateurs et les taxons.</p>
</section>
<section id="qualite-du-code">
<h1>Qualité du code:<a class="headerlink" href="#qualite-du-code" title="Lien vers cette rubrique">#</a></h1>
<p>Ajout de linters (pylint, mypy, mccabe…)</p>
<p>Ajouts de tests unitaires et suite de test (tox + pytest)</p>
<p>.gitignore plus complet</p>
<p>Mettre des <strong>init</strong>.py dans les dossiers pour les compter comme des packages et non des namespaces</p>
<p>Log 404</p>
<p>Log Exceptions</p>
<p>Mettre des doc string, exemple:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>route.py : def insert_in_cor_role(id_group, id_user):
</pre></div>
</div>
<p>Utiliser Pipfile et lock files pour locker les dépendences et inclure les dépendences de dev</p>
<p>Workflow git:
Déplacer le projet dans un repo séparé
Utiliser des features branches</p>
<p>Imports inutilisés, fichiers vides (utils.py), reste de python 2 (/home/user/Work/dev_pro/ecrins/GeoNature/backend/src/core/gn_exports/routes.py)</p>
<p>Créer un décorateur pour rollback automatiquement en cas d’exception dans les vues</p>
<p>Et get_or_404</p>
<p>Retirer les mettres et remplacer par logging</p>
<p>Gérer les valeurs aberrantes en entrée:</p>
<p>E.g: mettre un try et une limite de taille et interdire les valeurs négatives sur:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>limit = int(parameters.get(&#39;limit&#39;)) if parameters.get(&#39;limit&#39;) else 100
page = int(parameters.get(&#39;offset&#39;)) if parameters.get(&#39;offset&#39;) else 0
</pre></div>
</div>
<p>Ne pas retourner -1 en cas d’erreur mais lever une exception. E.G:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>def get_releve_if_allowed(self, user, data_scope):
    &quot;&quot;&quot;Return the releve if the user is allowed
      -params:
      user: object from TRole
      data_scope: string: level of rigth for an action
    &quot;&quot;&quot;
    if data_scope == &#39;2&#39;:
        if self.user_is_observer_or_digitiser(user) or self.user_is_in_dataset_actor(user):
            return self
    elif data_scope == &#39;1&#39;:
        if self.user_is_observer_or_digitiser(user):
            return self
    else:
        return self
    return -1
</pre></div>
</div>
<p>Eviter d’attrapper les exceptions très larges si on ne reraise pas. E.G:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>try:
    nbResultsWithoutFilter = VReleveList.query.count()
except Exception as e:
    db.session.rollback()
</pre></div>
</div>
<p>OU:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>def remove_file(filepath):
    try :
        os.remove(os.path.join(current_app.config[&#39;BASE_DIR&#39;], filepath))
    except :
        pass
</pre></div>
</div>
<p>Ou:
try:
int(value)
except Exception as e:
return “{0} must be an integer”.format(paramName)</p>
<p>Verifier la taille du dataset pour:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>try:
    data = q.limit(limit).offset(page*limit).all()
except Exception as e:
    db.session.rollback()
    raise

user = info_role[0]
user_cruved = cruved_for_user_in_app(user.id_role,current_app.config[&#39;ID_APPLICATION_GEONATURE&#39;] )
featureCollection = []
for n in data:
    releve_cruved = n.get_releve_cruved(user, user_cruved)
    feature = n.get_geofeature()
    feature[&#39;properties&#39;][&#39;rights&#39;] = releve_cruved
    featureCollection.append(feature)
</pre></div>
</div>
<p>Utiliser extend:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>        for o in observers:
            releve.observers.append(o)
</pre></div>
</div>
<p>Reecrire removeDisallowedFilenameChars: secure_filename fait déjà unicodedata.normalize, utliser split(), autoriser les caracteres chinois, mettre un nombre de lettres minimales complétées par un hash du nom original si les lettres manquent:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>def removeDisallowedFilenameChars(uncleanString):
    cleanedString = secure_filename(uncleanString)
    cleanedString = unicodedata.normalize(&#39;NFKD&#39;, uncleanString)
    cleanedString = re.sub(&#39;[ ]+&#39;, &#39;_&#39;, cleanedString)
    cleanedString = re.sub(&#39;[^0-9a-zA-Z_-]&#39;, &#39;&#39;, cleanedString)
    return cleanedString
</pre></div>
</div>
<p>Render le code générique avec un mapping:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>def testDataType(value, sqlType, paramName):
    if sqlType == db.Integer or isinstance(sqlType, (db.Integer)):
        try:
            int(value)
        except Exception as e:
            return &#39;{0} must be an integer&#39;.format(paramName)
    if sqlType == db.Numeric or isinstance(sqlType, (db.Numeric)):
        try:
            float(value)
        except Exception as e:
            return &#39;{0} must be an float (decimal separator .)&#39;\
                .format(paramName)
    elif sqlType == db.DateTime or isinstance(sqlType, (db.Date, db.DateTime)):
        try:
            from dateutil import parser
            dt = parser.parse(value)
        except Exception as e:
            return &#39;{0} must be an date (yyyy-mm-dd)&#39;.format(paramName)
    return None
</pre></div>
</div>
<p>Le projet doit-il supporter Python 2.7 ? Si oui, créer l’insfrastructure pour cela. Si non, retirer les artefacts tels que # coding et les imports <strong>future</strong></p>
<p>Pinpoint dependancies</p>
<p>Faire l’introspection du serializableModel une seule fois à la création de la classe, soit à l’aide d’une lib tierce partie existante (ex: marshmallow) ou à l’aide d’une metaclass.</p>
<p>Choisir un standard de notation pour les selecteurs SCSS. Documenter les variables.</p>
<p>Gestion des erreurs réseau sur les appels Ajax</p>
</section>
<section id="aspect-legal">
<h1>Aspect légal:<a class="headerlink" href="#aspect-legal" title="Lien vers cette rubrique">#</a></h1>
<ul class="simple">
<li><p>Déclaration à la CNIL;</p></li>
<li><p>Fichier de LICENCE</p></li>
<li><p>Dossier de licence des dépendances</p></li>
</ul>
</section>
<section id="ergonomie">
<h1>Ergonomie:<a class="headerlink" href="#ergonomie" title="Lien vers cette rubrique">#</a></h1>
<ul class="simple">
<li><p>Faire bilan ergonomique</p></li>
<li><p>Le menu pour changer la langue ne doit pas changer de langue lui-même.</p></li>
<li><p>Retirer le “#” des Urls</p></li>
<li><p>Restaurer le click milieu sur certains menus</p></li>
</ul>
</section>
<section id="configuration">
<h1>Configuration:<a class="headerlink" href="#configuration" title="Lien vers cette rubrique">#</a></h1>
<ul class="simple">
<li><p>Une grande partie des valeurs devraient être centralisées, et overridable par variables d’environnement. E.G: conf.ts et conf.py doivent hériter du même fichier de conf.</p></li>
<li><p>En mode dev, le make file pour runner gunicorn doit utiliser ces configs et env var.</p></li>
</ul>
</section>
<section id="temps-de-chargement">
<h1>Temps de chargement<a class="headerlink" href="#temps-de-chargement" title="Lien vers cette rubrique">#</a></h1>
<p>Retirer les polyfills pour les ever greens browsers dans le production build</p>
<p>Vérifier que l’import de rxj ne tue pas le tree shaking</p>
<p>Préciser d’utiliser ng build –prod pour la mise en production pour profiter de l’AOT</p>
</section>
<section id="documentation">
<h1>Documentation<a class="headerlink" href="#documentation" title="Lien vers cette rubrique">#</a></h1>
<ul class="simple">
<li><p>Fournir un graphique du modele general de donnée</p></li>
<li><p>Fournir une list des enpoints de l’API</p></li>
<li><p>Founrir un schéma général de l’organisations des différents éléments de la stack déployées</p></li>
<li><p>Fournir un schéma général de l’organisation des différents</p></li>
<li><p>Ces schémas doivent être mis à jour une fois par mois à une date fixe.</p></li>
</ul>
</section>
<section id="bons-points">
<h1>Bons points<a class="headerlink" href="#bons-points" title="Lien vers cette rubrique">#</a></h1>
<p>Peu de requêts SQL pures. Lesquelles ont un échapement corrects des paramétres.</p>
<p>Autoescape n’est pas désactivé</p>
<p>Vérification de l’appartenance des relevés.</p>
<p>Lazy loading bien pensé dans le routing frontend</p>
<p>Polyfill minimalist</p>
<p>Utilisation des modules Angular les plus à jour (ex: HttpClient)</p>
<p>Gestion des utilisateurs et permissions standardisée, fournies par un service séparé</p>
<p>Indice de MacAbe 5, à l’exception de 14 méthodes</p>
</section>
<section id="questions">
<h1>Questions<a class="headerlink" href="#questions" title="Lien vers cette rubrique">#</a></h1>
<p>Ou est le backoffice dont on parle dans https://github.com/PnX-SI/GeoNature/wiki/V2-:-Backoffice</p>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contenu
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Priorités pour le référenciel</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#securite">Sécurité:</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#modularite">Modularité:</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#qualite-du-code">Qualité du code:</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#aspect-legal">Aspect légal:</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ergonomie">Ergonomie:</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#configuration">Configuration:</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#temps-de-chargement">Temps de chargement</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#documentation">Documentation</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bons-points">Bons points</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#questions">Questions</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
Par PnE, PnC
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2018-2024, Parc National des Écrins, Parc National des Cévennes.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>